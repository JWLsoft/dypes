<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Matriz PETI</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="/bower_components/Ionicons/css/ionicons.min.css">
  <!-- DataTables -->
  <link rel="stylesheet" href="bower_components/datatables/dataTables.min.css">
  <!-- Select2 -->
  <link rel="stylesheet" href="bower_components/select2/dist/css/select2.min.css">

  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/AdminLTE.min.css">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="dist/css/skins/_all-skins.min.css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Google Font -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">

</head>
<body class="hold-transition skin-yellow-light sidebar-collapse">
<div class="wrapper">

  <header class="main-header">
    <!-- Logo -->
    <a class="logo">
      <!-- mini logo for sidebar mini 50x50 pixels -->
      <span class="logo-mini"><b>J</b>WL</span>
      <!-- logo for regular state and mobile devices -->
      <span class="logo-lg"><b>DYPES</b>UPN</span>
    </a>
    <!-- Header Navbar: style can be found in header.less -->
    <nav class="navbar navbar-static-top">

    </nav>
  </header>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">

    <!-- Main content -->
    <section class="content">

      <div class="row">
        <div class='col-xs-12'>
          <div class="box box-warning">
            <div class="box-header">
              <h3 class="box-title">Matriz PETI</h3>
            </div>
            <!-- /.box-header -->
            <!-- Loading (remove the following to stop the loading)-->
            <div class="overlay" id="loading-pane" hidden="true">
              <i class="fa fa-refresh fa-spin"></i>
            </div>
            <!-- end loading -->
            <div class="box-body">
				<div class="col-md-4">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Objetivos Estrategicos</th>
                                <th>Proyectos</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><div id="estrategias"></div></td>
                                <td><div id="proyectos"></div></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-md-8">
                    <div id="tabla-resultado">
                
                    </div>
                </div>
            </div>
            <!-- /.box-body -->
            <div class="box-footer">
            </div>
          </div>
          <!-- /.box -->
        </div>
      </div>
      <!-- /. row -->
    </section>
    <!-- /.content -->
  </div>

  <!-- /.content-wrapper -->
  <footer class="main-footer">
    <div class="pull-right hidden-xs">
      <b>Version</b> 1.0.0
    </div>
    <strong>Copyright &copy; 2018 <a href="https://github.com/JWLsoft">JWL</a>.</strong> All rights
    reserved.
  </footer>

</div>
<!-- ./wrapper -->

<!-- jQuery 3 -->
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- DataTables -->
<script src="bower_components/datatables/dataTables.min.js"></script>
<!-- Select2 -->
<script src="bower_components/select2/dist/js/select2.full.min.js"></script>
<!-- AdminLTE App -->
<script src="dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="dist/js/demo.js"></script>
<!-- page script -->
<script>
//Initialize Select2 Elements
$('.select2').select2({
  tags: true
});


for(var i=1;i<=15;i++){
    //Estrategias
    var form = document.createElement("DIV");
    form.setAttribute("class", "form-group");
    var check = document.createElement("DIV");
    check.setAttribute("class", "checkbox");

    var label = document.createElement("LABEL");
    var texto = document.createTextNode("OE "+i);
    var salto = document.createElement("BR");
    
    var x = document.createElement("INPUT");
    x.setAttribute("type", "checkbox");
    x.setAttribute("class", "estrategias");
    x.setAttribute("value", "E"+i);
    x.setAttribute("onclick", "genera_tabla()");

    label.appendChild(x);
    label.appendChild(texto);
    check.appendChild(label);
    form.appendChild(check);
    document.getElementById("estrategias").appendChild(form);
}
for(var i=1;i<=20;i++){
    // Proyectos
    var form = document.createElement("DIV");
    form.setAttribute("class", "form-group");
    var check = document.createElement("DIV");
    check.setAttribute("class", "checkbox");

    var label = document.createElement("LABEL");
    var texto = document.createTextNode("P "+i);
    var salto = document.createElement("BR");
    
    var x = document.createElement("INPUT");
    x.setAttribute("type", "checkbox");
    x.setAttribute("class", "proyectos");
    x.setAttribute("value", "P"+i);
    x.setAttribute("onclick", "genera_tabla()");

    label.appendChild(x);
    label.appendChild(texto);
    check.appendChild(label);
    form.appendChild(check);
    document.getElementById("proyectos").appendChild(form);
}

function genera_tabla() {
    document.getElementById('tabla-resultado').innerHTML='';
    var e = document.getElementsByClassName("estrategias");
    var p = document.getElementsByClassName("proyectos");
  // Obtener la referencia del elemento body
  var body = document.getElementById('tabla-resultado');//document.getElementsByTagName("body")[0];
 
  // Crea un elemento <table> y un elemento <tbody>
  var tabla   = document.createElement("table");
  tabla.setAttribute("class", "table table-bordered table-hover");
  var tblBody = document.createElement("tbody");
  var tblHead = document.createElement("thead");

    var cabecera=false;
    var hilera = document.createElement("tr");
    for (var j = 0; j < p.length; j++) {
        if(!cabecera){
            // Crea un elemento <td> y un nodo de texto, haz que el nodo de
            // texto sea el contenido de <td>, ubica el elemento <td> al final
            // de la hilera de la tabla
            var celda = document.createElement("th");
            var textoCelda = document.createTextNode("OE / P");
            celda.appendChild(textoCelda);
            hilera.appendChild(celda);
            cabecera=true;
        }
        if(p[j].checked){
            // Crea un elemento <td> y un nodo de texto, haz que el nodo de
            // texto sea el contenido de <td>, ubica el elemento <td> al final
            // de la hilera de la tabla
            var celda = document.createElement("th");
            var y = j+1;
            var textoCelda = document.createTextNode("P "+y);
            celda.appendChild(textoCelda);
            hilera.appendChild(celda);
        }
    }

    // agrega la hilera al final de la tabla (al final del elemento tblbody)
    tblHead.appendChild(hilera);
  // Crea las celdas
  for (var i = 0; i < e.length; i++) {
      if(e[i].checked){
        // Crea las hileras de la tabla
        var hilera = document.createElement("tr");
        // cabecera lateral
        var celda = document.createElement("td");
        var x = i+1;
        var textoCelda = document.createTextNode("OE "+x);
        celda.appendChild(textoCelda);
        hilera.appendChild(celda);

        for (var j = 0; j < p.length; j++) {
            if(p[j].checked){
                // Crea un elemento <td> y un nodo de texto, haz que el nodo de
                // texto sea el contenido de <td>, ubica el elemento <td> al final
                // de la hilera de la tabla
                var celda = document.createElement("td");
                var x = i+1;
                var y = j+1;
                //var textoCelda = document.createTextNode("E "+x+", P "+y);
                var z = document.createElement("INPUT");
                z.setAttribute("type", "checkbox");
                z.setAttribute("value", "O"+x+"P"+y);
                //celda.appendChild(textoCelda);
                celda.appendChild(z);
                hilera.appendChild(celda);
            }
        }

        // agrega la hilera al final de la tabla (al final del elemento tblbody)
        tblBody.appendChild(hilera);
      }
  }
  tabla.appendChild(tblHead);
  // posiciona el <tbody> debajo del elemento <table>
  tabla.appendChild(tblBody);
  // appends <table> into <body>
  body.appendChild(tabla);
  // modifica el atributo "border" de la tabla y lo fija a "2";
  //tabla.setAttribute("border", "2");
}



// Data Tables
/*$(function () {
  $('#example1').DataTable({
    select:false,
    //dom: 'Bfrtip',
    buttons: [
        'copy',
        'excel',
        'csv',
        'pdf',
        'print',
        'colvis',
        'colvisRestore',
        'pageLength'
    ],
  })
})*/

</script>
</body>
</html>
